<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta id="repository-name" content="github.com/slnt/orangejoos">
  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="js/doc.js"></script>
  <title>README - github.com/slnt/orangejoos</title>
</head>
<body>

<div id="types-list">
  <div id="search-box">
    <input type="search" id="search-input" placeholder="Search...">
  </div>

  <ul>
    <li class="current"><a href="index.html">README</a></li>
  </ul>

  <ul>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Action" data-name="action">
      <a href="Action.html">Action</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/ActionType" data-name="actiontype">
      <a href="ActionType.html">ActionType</a>
      
    </li>
  
  <li class="parent " data-id="github.com/slnt/orangejoos/AST" data-name="ast">
      <a href="AST.html">AST</a>
      
        <ul>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Block" data-name="ast::block">
      <a href="AST/Block.html">Block</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ClassDecl" data-name="ast::classdecl">
      <a href="AST/ClassDecl.html">ClassDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Const" data-name="ast::const">
      <a href="AST/Const.html">Const</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ConstBool" data-name="ast::constbool">
      <a href="AST/ConstBool.html">ConstBool</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ConstChar" data-name="ast::constchar">
      <a href="AST/ConstChar.html">ConstChar</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ConstInteger" data-name="ast::constinteger">
      <a href="AST/ConstInteger.html">ConstInteger</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ConstNull" data-name="ast::constnull">
      <a href="AST/ConstNull.html">ConstNull</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ConstructorDecl" data-name="ast::constructordecl">
      <a href="AST/ConstructorDecl.html">ConstructorDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ConstString" data-name="ast::conststring">
      <a href="AST/ConstString.html">ConstString</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/DeclStmt" data-name="ast::declstmt">
      <a href="AST/DeclStmt.html">DeclStmt</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Expr" data-name="ast::expr">
      <a href="AST/Expr.html">Expr</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ExprClassInit" data-name="ast::exprclassinit">
      <a href="AST/ExprClassInit.html">ExprClassInit</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ExprOp" data-name="ast::exprop">
      <a href="AST/ExprOp.html">ExprOp</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ExprRef" data-name="ast::exprref">
      <a href="AST/ExprRef.html">ExprRef</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ExprThis" data-name="ast::exprthis">
      <a href="AST/ExprThis.html">ExprThis</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/FieldDecl" data-name="ast::fielddecl">
      <a href="AST/FieldDecl.html">FieldDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/File" data-name="ast::file">
      <a href="AST/File.html">File</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ImportDecl" data-name="ast::importdecl">
      <a href="AST/ImportDecl.html">ImportDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/InterfaceDecl" data-name="ast::interfacedecl">
      <a href="AST/InterfaceDecl.html">InterfaceDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Keyword" data-name="ast::keyword">
      <a href="AST/Keyword.html">Keyword</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Literal" data-name="ast::literal">
      <a href="AST/Literal.html">Literal</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/MemberDecl" data-name="ast::memberdecl">
      <a href="AST/MemberDecl.html">MemberDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/MethodDecl" data-name="ast::methoddecl">
      <a href="AST/MethodDecl.html">MethodDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Modifier" data-name="ast::modifier">
      <a href="AST/Modifier.html">Modifier</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Name" data-name="ast::name">
      <a href="AST/Name.html">Name</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Node" data-name="ast::node">
      <a href="AST/Node.html">Node</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/PackageDecl" data-name="ast::packagedecl">
      <a href="AST/PackageDecl.html">PackageDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Param" data-name="ast::param">
      <a href="AST/Param.html">Param</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/PrimitiveTyp" data-name="ast::primitivetyp">
      <a href="AST/PrimitiveTyp.html">PrimitiveTyp</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/QualifiedName" data-name="ast::qualifiedname">
      <a href="AST/QualifiedName.html">QualifiedName</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/ReferenceTyp" data-name="ast::referencetyp">
      <a href="AST/ReferenceTyp.html">ReferenceTyp</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/SimpleName" data-name="ast::simplename">
      <a href="AST/SimpleName.html">SimpleName</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Stmt" data-name="ast::stmt">
      <a href="AST/Stmt.html">Stmt</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/Typ" data-name="ast::typ">
      <a href="AST/Typ.html">Typ</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/TypeDecl" data-name="ast::typedecl">
      <a href="AST/TypeDecl.html">TypeDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/AST/VariableDecl" data-name="ast::variabledecl">
      <a href="AST/VariableDecl.html">VariableDecl</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/LALR1Table" data-name="lalr1table">
      <a href="LALR1Table.html">LALR1Table</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Lexeme" data-name="lexeme">
      <a href="Lexeme.html">Lexeme</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Operator" data-name="operator">
      <a href="Operator.html">Operator</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/ParseNode" data-name="parsenode">
      <a href="ParseNode.html">ParseNode</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/ParseNodes" data-name="parsenodes">
      <a href="ParseNodes.html">ParseNodes</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Parser" data-name="parser">
      <a href="Parser.html">Parser</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/ParseStageError" data-name="parsestageerror">
      <a href="ParseStageError.html">ParseStageError</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/ParseTree" data-name="parsetree">
      <a href="ParseTree.html">ParseTree</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Pipeline" data-name="pipeline">
      <a href="Pipeline.html">Pipeline</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Rule" data-name="rule">
      <a href="Rule.html">Rule</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Scanner" data-name="scanner">
      <a href="Scanner.html">Scanner</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/ScanningStageError" data-name="scanningstageerror">
      <a href="ScanningStageError.html">ScanningStageError</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Separator" data-name="separator">
      <a href="Separator.html">Separator</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Simplification" data-name="simplification">
      <a href="Simplification.html">Simplification</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/SimplifyStageError" data-name="simplifystageerror">
      <a href="SimplifyStageError.html">SimplifyStageError</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/SourceFile" data-name="sourcefile">
      <a href="SourceFile.html">SourceFile</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/TMPMethodDecl" data-name="tmpmethoddecl">
      <a href="TMPMethodDecl.html">TMPMethodDecl</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Type" data-name="type">
      <a href="Type.html">Type</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/UnexpectedNodeException" data-name="unexpectednodeexception">
      <a href="UnexpectedNodeException.html">UnexpectedNodeException</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/Weeding" data-name="weeding">
      <a href="Weeding.html">Weeding</a>
      
    </li>
  
  <li class=" " data-id="github.com/slnt/orangejoos/WeedingStageError" data-name="weedingstageerror">
      <a href="WeedingStageError.html">WeedingStageError</a>
      
    </li>
  
</ul>

</div>

<div id="main-content">
<h1>Orangejoos</h1>

<p>A compiler JOOS1W, written in the Crystal lang.</p>

<h2>Installation</h2>

<p>Install crystal. <code>brew install crystal-lang</code>.</p>

<h2>Usage</h2>

<p><span class="flag orange">TODO</span>  Write usage instructions here</p>

<h3>Submission</h3>

<p>A submittable zip can be made using <code>make orangejoos.zip</code>. Head over to
<a href="https://marmoset.student.cs.uwaterloo.ca/" target="_blank">marmoset</a> to submit the zip.</p>

<p>It uses <code>joosc</code>, a wrapper shell script, which calls the compiler with a
basic set of parameters.</p>

<h2>Development</h2>

<h2>Progress</h2>

<h3>Extra</h3>

<ul><li>[ ] Make the source code a CST, i.e. include whitespace tokens and
  make the code reproducible from the AST.</li></ul>

<h3>Tokenizer</h3>

<ul><li>[x] Read JLS2 for a specification of tokens.</li><ul><li>Requires a more thorough read through for syntax analysis.</li></ul><li>[x] Create a tokenizer (<a href="/src/scanner.cr" target="_blank">src/scanner.cr</a>).</li></ul>

<h3>Parser and syntax analysis</h3>

<ul><li>[x] Copy-pasta the Java grammar from the JLS
  (<a href="grammar/joos1s.bnf" target="_blank">grammar/joos1s.bnf</a>).</li><ul><li>May require a more thorough read through.</li></ul><li>[x] Write a script to convert the JLS BNF-style notation to
  <a href="https://www.student.cs.uwaterloo.ca/~cs444/jlalr/cfg.html" target="_blank">CFG</a>.</li><li>[x] Hook up the provided LALR(1) tool to generate an <a href="https://www.student.cs.uwaterloo.ca/~cs444/jlalr/lr1.html" target="_blank">LALR(1)
  table</a> from
  the CFG file.</li><li>[x] Read in the prediction table into the compiler.</li><li>[x] Parse a list of tokens using the prediction table. Refer to the
  Compilers textbook for an algorithm for a bottom-up parsing with a
  prediction table and a stack.</li><li>[ ] Add syntatical analysis not included in the grammar. See the
  section below for some checks.</li><li>[ ] Create a stage to convert the parse-tree into a usable abstract
  syntax tree. Due to the structure of the grammar, there are lots of
  intermediary rules, hence the final result should have these rules
  reduced.</li></ul>

<h4>Addtional syntax analysis (i.e. weeding)</h4>

<p>From the assignment page:</p>

<ul><li>[x] All characters in the input program must be in the range of 7-bit
  ASCII (0 to 127).</li><li>[x] A class cannot be both abstract and final.</li><li>[ ] A method has a body if and only if it is neither abstract nor
  native.</li><li>[ ] An abstract method cannot be static or final.</li><li>[ ] A static method cannot be final.</li><li>[ ] A native method must be static.</li><li>[x] The type void may only be used as the return type of a method. <em>(Done in the grammar, for free.)</em></li><li>[ ] A formal parameter of a method must not have an initializer.</li><li>[x] File must be a <code>.java</code> file.</li><li>[ ] A class/interface must be declared in a file with the same base
  name as the class/interface.</li><li>[x] An interface cannot contain fields. <em>(with grammar)</em></li><li>[x] An interface cannot contain constructors. <em>(with grammar)</em></li><li>[x] An interface method cannot be static, final, or native.</li><li>[x] An interface method cannot have a body. <em>(with grammar)</em></li><li>[ ] Every type (Class, Interface, Field, Method) requires a visiblity modifier (private, protected, public).</li><li>[x] Every class must contain at least one explicit constructor.</li><li>[ ] No field can be final.</li><li>[ ] No multidimensional array types or multidimensional array creation
  expressions are allowed.</li><li>[ ] A method or constructor must not contain explicit this() or
  super() calls.</li></ul>

<p>From the specification:</p>

<ul><li>[ ] Checking for permitted valid modifiers on fields, methods,
  classes, and interfaces.</li><li>[ ] Check for the existance of a main function and the correct
  signature.</li><li>[ ] Check the size of numbers are valid.</li><li>[x] Check the length of character literals (should happen in
  scanning).</li><li>[ ] Repeated function definitions.</li><li>Refer to the JLS1 spec to find more rules.</li></ul>

<h2>Resources</h2>

<ul><li>Java Specifications: Version 1 and Version 2.</li><li>Modern Compiler Implementation in Java, Appel.</li></ul>


</div>
</body>
</html>
